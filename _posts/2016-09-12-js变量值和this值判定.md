---
title: js变量值和this值判定
day: 2017-07-14
time: "22:30:00"
excerpt: js的作用域机制
---

#### 变量值判定

1. 变量的值由其定义时决定，与如何调用该函数无关。
2. 使用时，由该变量定义时所在的函数所包含的作用域开始查找，依次沿作用域链往外查找，一直到全局作用域。
3. 查看是否为定义，一般看是否有var或者function关键字。



#### this值判定

##### this的值一般由其所在作用域对应的函数的调用方式决定。
1. 如果函数调用时前面用new关键字，则this指向new生成的对象。
2. 除去上一种情况，如果对函数使用了bind、apply、call这样的显式绑定this的方法，则this指向这些方法内设置的对象。
3. 除去以上两种情况，如果函数作为某个对象的方法来调用，则this指向直接调用这个方法的对象。
4. 除去以上三种情况，在非严格模式下，this的值指向全局对象（浏览器中为window）；在严格模式下，this的值为undefined。

##### 如果this所在作用域的函数为箭头函数时，this值的判定规则与变量值的规则一致，由词法作用域决定。